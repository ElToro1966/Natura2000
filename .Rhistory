all <- iconvlist()
all
names(all)
setwd('//mnt/principal/eric/home/Git/Natura2000/')
iconvlist()
tail(iconvlist())
tail(iconvlist(), n = 20L)
tail(iconvlist(), n = 40L)
tail(iconvlist(), n = 50L)
files <- list.files(path="data-original", pattern="*.csv", full.names=T, recursive=TRUE)
encodings_guessed -< guess_encodings(files)
for(file in files) guess_encodings(files)
library(readr)
for(file in files) guess_encoding(files)
for(file in files) guess_encoding(file)
encodings_guessed <- for(file in files) guess_encoding(file)
encodings_guessed
for(file in files) print(guess_encoding(file))
encodings_guessed <- guess_encodings(files)
length(files)
m <-cbind(for(file in files) guess_encoding(file))
m
m <-cbind(for(file in files) m <- cbind(guess_encoding(file)))
for(file in files) m <- cbind(guess_encoding(file))
m
x <- vector("list",length(files))
x
for(file in files) {
print(file) }
for(file in files) {
print(guess_encoding(file)) }
x[5]
i <- 0
for(file in files) {
x[i] -< guess_encoding(file))
for(file in files) {
x[i] <- guess_encoding(file))
for(file in files) {
x[i] <- guess_encoding(file)
i <- i + 1 }
x
for(file in files) {
x[i] <- guess_encoding(file)
i <- i + 1 }
warnings()
x
x <- vector("list",length(files))
x
files <- list.files(path="data-original", pattern="*.csv", full.names=T, recursive=TRUE)
files <- list.files(path="data-original", pattern="*.csv", full.names=T, recursive=TRUE)
lapply(files, function(x) {
encoding_guessed <- guess_encoding(x)
}
)
encoding_guessed <- guess_encoding("data-original/2017/BIOREGION.csv")
encoding_guessed
encoding_guessed[1]
encoding(encoding_guessed)
encoding_guessed[enccoding]
encoding_guessed[enccoding(1)]
encoding_guessed(enccoding(1))
encoding_guessed[["encoding"]]
encoding_guessed <- guess_encoding("data-original/2017/DIRECTIVESPECIES.csv")
encoding_guessed[["encoding"]]
class(encoding_guessed[["encoding"]])
encoding_guessed[["encoding"]][2]
encoding_guessed <- guess_encoding("data-original/2017/DIRECTIVESPECIES.csv")[["encodings"]]
encoding_guessed
encoding_guessed <- guess_encoding("data-original/2017/DIRECTIVESPECIES.csv")
encoding_guessed <- guess_encoding("data-original/2017/DIRECTIVESPECIES.csv")[["encodings"]]
encoding_to_try = list_encodings_guessed[1]
encoding_guessed <- guess_encoding("data-original/2017/DIRECTIVESPECIES.csv")
list_encodings_guessed <- encodings_guessed[["encoding"]]
list_encodings_guessed <- encoding_guessed[["encoding"]]
list_encodings_guessed <- encoding_guessed[["encoding"]]
library(readr)
out
t
files <- list.files(path="data-original", pattern="*.csv", full.names=T, recursive=TRUE)
encodings_all <- iconvlist()
encodings_probable <- c("UTF-8","UTF-16LE")
lapply(files, function(x) {
encodings_guessed <- guess_encoding(x)
list_encodings_guessed <- encoding_guessed[["encoding"]]
encoding_to_try = list_encodings_guessed[1]
t <- read.csv(x, header=TRUE, sep=",", fileEncoding=encoding_to_try,dec=".") # load file
# apply function
out <- dim(t)
# write to file
write.table(out, "/data/test.txt", sep="\t", quote=F, row.names=F, col.names=T)
rm(t)
})
lapply(files, function(x) {
encodings_guessed <- guess_encoding(x)
list_encodings_guessed <- encoding_guessed[["encoding"]]
encoding_to_try = "UTF-8" # list_encodings_guessed[1]
t <- read.csv(x, header=TRUE, sep=",", fileEncoding=encoding_to_try,dec=".") # load file
# apply function
out <- dim(t)
# write to file
write.table(out, "/data/test.txt", sep="\t", quote=F, row.names=F, col.names=T)
rm(t)
})
encoding_to_try = "UTF-16LE" # list_encodings_guessed[1]
t <- read.csv(x, header=TRUE, sep=",", fileEncoding=encoding_to_try,dec=".") # load file
